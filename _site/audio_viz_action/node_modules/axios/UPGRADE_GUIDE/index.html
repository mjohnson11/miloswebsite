<h1>Upgrade Guide</h1>
<h3>0.15.x -&gt; 0.16.0</h3>
<h4><code>Promise</code> Type Declarations</h4>
<p>The <code>Promise</code> type declarations have been removed from the axios typings in favor of the built-in type declarations. If you use axios in a TypeScript project that targets <code>ES5</code>, please make sure to include the <code>es2015.promise</code> lib. Please see <a href="https://blog.mariusschulz.com/2016/11/25/typescript-2-0-built-in-type-declarations">this post</a> for details.</p>
<h3>0.13.x -&gt; 0.14.0</h3>
<h4>TypeScript Definitions</h4>
<p>The axios TypeScript definitions have been updated to match the axios API and use the ES2015 module syntax.</p>
<p>Please use the following <code>import</code> statement to import axios in TypeScript:</p>
<pre><code class="language-typescript">import axios from 'axios';

axios.get('/foo')
  .then(response =&gt; console.log(response))
  .catch(error =&gt; console.log(error));
</code></pre>
<h4><code>agent</code> Config Option</h4>
<p>The <code>agent</code> config option has been replaced with two new options: <code>httpAgent</code> and <code>httpsAgent</code>. Please use them instead.</p>
<pre><code class="language-js">{
  // Define a custom agent for HTTP
  httpAgent: new http.Agent({ keepAlive: true }),
  // Define a custom agent for HTTPS
  httpsAgent: new https.Agent({ keepAlive: true })
}
</code></pre>
<h4><code>progress</code> Config Option</h4>
<p>The <code>progress</code> config option has been replaced with the <code>onUploadProgress</code> and <code>onDownloadProgress</code> options.</p>
<pre><code class="language-js">{
  // Define a handler for upload progress events
  onUploadProgress: function (progressEvent) {
    // ...
  },

  // Define a handler for download progress events
  onDownloadProgress: function (progressEvent) {
    // ...
  }
}
</code></pre>
<h3>0.12.x -&gt; 0.13.0</h3>
<p>The <code>0.13.0</code> release contains several changes to custom adapters and error handling.</p>
<h4>Error Handling</h4>
<p>Previous to this release an error could either be a server response with bad status code or an actual <code>Error</code>. With this release Promise will always reject with an <code>Error</code>. In the case that a response was received, the <code>Error</code> will also include the response.</p>
<pre><code class="language-js">axios.get('/user/12345')
  .catch((error) =&gt; {
    console.log(error.message);
    console.log(error.code); // Not always specified
    console.log(error.config); // The config that was used to make the request
    console.log(error.response); // Only available if response was received from the server
  });
</code></pre>
<h4>Request Adapters</h4>
<p>This release changes a few things about how request adapters work. Please take note if you are using your own custom adapter.</p>
<ol>
<li>Response transformer is now called outside of adapter.</li>
<li>Request adapter returns a <code>Promise</code>.</li>
</ol>
<p>This means that you no longer need to invoke <code>transformData</code> on response data. You will also no longer receive <code>resolve</code> and <code>reject</code> as arguments in your adapter.</p>
<p>Previous code:</p>
<pre><code class="language-js">function myAdapter(resolve, reject, config) {
  var response = {
    data: transformData(
      responseData,
      responseHeaders,
      config.transformResponse
    ),
    status: request.status,
    statusText: request.statusText,
    headers: responseHeaders
  };
  settle(resolve, reject, response);
}
</code></pre>
<p>New code:</p>
<pre><code class="language-js">function myAdapter(config) {
  return new Promise(function (resolve, reject) {
    var response = {
      data: responseData,
      status: request.status,
      statusText: request.statusText,
      headers: responseHeaders
    };
    settle(resolve, reject, response);
  });
}
</code></pre>
<p>See the related commits for more details:</p>
<ul>
<li><a href="https://github.com/axios/axios/commit/10eb23865101f9347570552c04e9d6211376e25e">Response transformers</a></li>
<li><a href="https://github.com/axios/axios/commit/157efd5615890301824e3121cc6c9d2f9b21f94a">Request adapter Promise</a></li>
</ul>
<h3>0.5.x -&gt; 0.6.0</h3>
<p>The <code>0.6.0</code> release contains mostly bug fixes, but there are a couple things to be aware of when upgrading.</p>
<h4>ES6 Promise Polyfill</h4>
<p>Up until the <code>0.6.0</code> release ES6 <code>Promise</code> was being polyfilled using <a href="https://github.com/jakearchibald/es6-promise">es6-promise</a>. With this release, the polyfill has been removed, and you will need to supply it yourself if your environment needs it.</p>
<pre><code class="language-js">require('es6-promise').polyfill();
var axios = require('axios');
</code></pre>
<p>This will polyfill the global environment, and only needs to be done once.</p>
<h4><code>axios.success</code>/<code>axios.error</code></h4>
<p>The <code>success</code>, and <code>error</code> aliases were deprectated in <a href="https://github.com/axios/axios/blob/master/CHANGELOG.md#040-oct-03-2014">0.4.0</a>. As of this release they have been removed entirely. Instead please use <code>axios.then</code>, and <code>axios.catch</code> respectively.</p>
<pre><code class="language-js">axios.get('some/url')
  .then(function (res) {
    /* ... */
  })
  .catch(function (err) {
    /* ... */
  });
</code></pre>
<h4>UMD</h4>
<p>Previous versions of axios shipped with an AMD, CommonJS, and Global build. This has all been rolled into a single UMD build.</p>
<pre><code class="language-js">// AMD
require(['bower_components/axios/dist/axios'], function (axios) {
  /* ... */
});

// CommonJS
var axios = require('axios/dist/axios');
</code></pre>
